<!DOCTYPE html>
<html>

<!-- Mirrored from oldblog.smallyu.net/?id=35 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Jan 2020 07:50:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<title>课程手记 · Hello，移动web_未分类_smallyu</title>
<meta name="keywords" content="移动web"/>
<meta name="description" content="内容来自慕课网WebApp开发课程的内容，看完之后回想起来，确实有必要记录一下，便于温故课程地址：http://www.imooc.com/learn/494Pixel移动开发像素基础px: CSS pixels 逻辑像素，浏览器使用的抽象单位dp,pt: device..."/>
<meta name="author" content="smallyu">
<link rel='prev' title='实习报告 · 软件实验：Protel99（Altium designer 6.9）' href='indexd5e8.html?id=34' />
<link rel='next' title='CET4 · 不屈的Writing路（2016.12.8）' href='indexf62c.html?id=36' />
<link rel='canonical' href='index40ac.html?id=35' />
<link rel='shortlink' href='index40ac.html?id=35' />
<meta name="viewport" content="width=device-width, initial-scale=1">
 <style type="text/css">
    .home::before {
    font-size: 90px;
    font-family: 'efe-icons';
    content: "";
    display: block;
    margin-bottom: 10px;
}
</style>
<link rel="stylesheet" href="zb_users/theme/ydefe/style/page.min.css" type="text/css">
<script src="zb_system/script/jquery-2.2.4.min.js" type="text/javascript"></script>
<script src="zb_system/script/zblogphp.js" type="text/javascript"></script>
<script src="zb_system/script/c_html_js_add.js" type="text/javascript"></script>
</head><body>

<aside>
	<a class="home" href="index.html" title="smallyu">
	    <img src="zb_users/theme/ydefe/style/images/logo.png" /><br />
        <abbr title="EFE">smallyu</abbr>
    </a>
  <nav> <a href="Hello%20World.html" target="_blank">Hello World</a> </nav>
  <div class="sidebarleft-mb">
    <ul class="product-overview-side-mb">
      <li id="nvabar-item-index"><a href="index.html">首页</a></li>
<li id="navbar-page-16"><a href="index2728.html?id=16">关于</a></li>
    </ul>
  </div>
      
<div class="sidebarleft widget_navbar">
   
  <div class="product-overview-side efe-desc widget_divNavBar_inner"><div class="sidebg"><li id="nvabar-item-index"><a href="index.html">首页</a></li>
<li id="navbar-page-16"><a href="index2728.html?id=16">关于</a></li>
</div></div>
         
 
</div>
<div class="sidebarleft widget_archives">
<h4>文章归档</h4>
   
         
  <ul class="product-overview-side ">
 <li><a href="indexb0b4.html?date=2017-8">2017年8月 (6)</a></li>
<li><a href="indexcb7e.html?date=2017-7">2017年7月 (2)</a></li>
<li><a href="index276d.html?date=2017-6">2017年6月 (3)</a></li>
<li><a href="index5523.html?date=2017-5">2017年5月 (2)</a></li>
<li><a href="indexb2e3.html?date=2017-4">2017年4月 (2)</a></li>
<li><a href="index10ae.html?date=2017-3">2017年3月 (3)</a></li>
<li><a href="index8cef.html?date=2017-2">2017年2月 (3)</a></li>
<li><a href="index8bcc.html?date=2017-1">2017年1月 (4)</a></li>
<li><a href="index9f2f.html?date=2016-12">2016年12月 (1)</a></li>
<li><a href="index50f5.html?date=2016-11">2016年11月 (2)</a></li>
<li><a href="indexf32d.html?date=2016-10">2016年10月 (3)</a></li>
<li><a href="index91d7.html?date=2016-9">2016年9月 (1)</a></li>
<li><a href="index917c.html?date=2016-8">2016年8月 (6)</a></li>
<li><a href="index34d3.html?date=2016-7">2016年7月 (1)</a></li>
<li><a href="indexe6af.html?date=2016-6">2016年6月 (4)</a></li>
<li><a href="index1d06.html?date=2016-5">2016年5月 (4)</a></li>
 </ul>
 
</div>  </aside>


<article>
    
        <h1><a href="index40ac.html?id=35">课程手记 · Hello，移动web</a></h1>
    

    <div class="article-meta">
        <span class="article-author">
        
        <i class="fa fa-pencil"></i>
        <a target="_blank" href="indexd381.html?auth=1" title="otakustay">smallyu</a>
    
</span>

        <time><i class="fa fa-clock-o"></i> 2016-10-18</time>

        
        <span class="article-tags"><i class="fa fa-tag"></i> <a href="indexbb9d.html?tags=28" target="_blank">移动web</a>&nbsp;</span>
	    
    
    </div>
        <p>内容来自慕课网WebApp开发课程的内容，看完之后回想起来，确实有必要记录一下，便于温故</p><p>课程地址：<a href="http://www.imooc.com/learn/494" _src="http://www.imooc.com/learn/494">http://www.imooc.com/learn/494</a></p><p><strong><span style="font-size: 16px;">Pixel移动开发像素基础</span></strong><br/></p><p><span style="text-decoration: underline;">px</span>: CSS pixels 逻辑像素，浏览器使用的抽象单位</p><p><span style="text-decoration: underline;">dp,pt</span>: device independent pixels 设备无关像素</p><p><span style="text-decoration: underline;">dpr</span>: devicePixelRatio 设备像素缩放比</p><p>计算公式：<span style="text-decoration: underline;">1px = (dpr)^2 * dp</span></p><p><span style="text-decoration: underline;">DPI</span>: 打印机每英寸可以喷的墨汁点（印刷行业）</p><p><span style="text-decoration: underline;">PPI</span>: 屏幕每英寸的像素数量，即单位英寸内的像素密度</p><p>目前，在计算机显示设备参数描述上，二者意思表达的是一样的（单位为硬件像素，非px）</p><p>PPI越高，像素数越高，图像越清晰，但可视度越低（小），系统默认设置缩放比越大</p><p><img src="zb_users/upload/2016/10/201610181476787434192242.png" style="white-space: normal; width: 535px; height: 104px;" width="535" height="104"/></p><p>Retina屏（高清屏）dpr都是大于等于2</p><p><strong><span style="font-size: 16px;">Viewport视图</span></strong><br/></p><p>思考下面一个问题：</p><p><img src="zb_users/upload/2016/10/201610181476787435437480.png" style="white-space: normal; width: 535px; height: 211px;" width="535" height="211"/></p><p><span style="text-decoration: underline;">手机浏览器默认为我们做了两件事情</span>：</p><p>一：页面渲染在移动设备分辨率大小的viewport</p><p>二：缩放</p><p><span style="text-decoration: underline;">为什么渲染时，要有Viewport</span><span style="text-decoration: none;">？</span></p><p>为了排版正确。</p><p>viewport有两个，visual viewport和layout viewport</p><p><img src="zb_users/upload/2016/10/201610181476787434971290.png" style="width: 533px; height: 204px;" width="533" height="204"/><br/></p><p><span style="text-decoration: underline;">Viewport Meta标签</span></p><p>&lt;meta name=&quot;viewport&quot; content=&quot;name1=value1,name2=value2&quot;&gt;</p><p>width: 设置布局viewport的特定值（&quot;device-width&quot;）</p><p>initial-scale: 设置页面的初始缩放</p><p>minimum-scale: 最少缩放</p><p>maximum-scale: 最大缩放</p><p>user-scalable: 用户能否缩放</p><p><span style="text-decoration: underline;">常用写法</span>：</p><p>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,inital-scale=1,user-scalable=no&quot;&gt;</p><p><strong><span style="font-size: 16px;">Flex弹性盒子布局</span></strong><br/></p><p>.nav{display:-webkit-flex;}/*父元素*/</p><p>.item{flex:1}/*子元素*/</p><p>display:-webkit-flex 标示使用弹性布局</p><p>flex:num 占容器的比例</p><p><img src="zb_users/upload/2016/10/201610181476787435453961.png" style="width: 190px; height: 184px;" width="190" height="184"/></p><p><span style="text-decoration: underline;">Flex不定宽高的水平垂直居中</span></p><p>.parent{</p><p>&nbsp; &nbsp; justify-content:center;/*子元素水平居中*/</p><p>&nbsp; &nbsp; align-items:center;/*子元素垂直居中*/</p><p>&nbsp; &nbsp; display:-webkit-flex;</p><p>}</p><p><strong><span style="font-size: 16px;">Web的Flex弹性盒模型</span></strong><br/></p><p><a href="web/web_flex.html" _src="web/web_flex.html">http://oldblog.smallyu.net/web/web_flex.html</a></p><p>访问这个链接查看flex的所有属性案例</p><p><strong><span style="font-size: 16px;">响应式设计</span></strong><br/></p><p><span style="text-decoration: underline;">兼容性</span></p><p>·iOS可以使用最新的flex布局</p><p>·android4.4以下，只能兼容旧版的flexbox布局</p><p>·android4.4及以上，可以使用最新的flex布局</p><p><img src="zb_users/upload/2016/10/201610181476787435416462.png" style="width: 711px; height: 151px;" width="711" height="151"/></p><p><span style="text-decoration: underline;">媒体类型</span></p><p>screen（屏幕）</p><p>print（打印机）</p><p>handheld（手持设备）</p><p>all（通用）</p><p><span style="text-decoration: underline;">常用该媒体查询参数</span>：</p><p>width—视口宽高</p><p>height——视口宽高</p><p>device-width——设备的宽度</p><p>device-height——设备的高度</p><p>orientation：检查设备处于横向（landscape）还是竖屏（portrait）</p><p><strong><span style="text-decoration: underline;">设计点一：百分比布局</span></strong></p><p>仅仅使用媒体查询来适应不同的固定宽高设计，只会从一组css到另一组css的切换。两种之间没有任何平滑渐变。当没有命中媒体查询时，表现就会变得不可控制（滚动，换行）。</p><p><strong><span style="text-decoration: underline;">设计点二：弹性图片</span></strong></p><p>很简单，如同多一点布局使用百分比，图片也使用百分比。其背后的思路是：无论何时，都全包在图片的元素宽度范围内，以最大的宽度同比完整的显示图片。</p><p><strong><span style="text-decoration: underline;">设计点三：重新布局，显示与隐藏</span></strong></p><p>当页面达到屏幕手机宽度的时候，很多时候就要放弃一些传统的页面设计思想。力求页面简单，简介。所以我们必须要做出以下处理：</p><p>1.同比例缩减元素尺寸</p><p>2.调整页面结构布局</p><p>3.隐藏冗余的元素</p><p><strong style="font-size: 16px;">移动web特别样式处理</strong><br/></p><p><span style="text-decoration: underline;">高清图片</span></p><p>在移动web也页面上渲染图片，为了避免图片产生模糊，图片的宽高应该用物理像素单位渲染，即是100*100的图片，应该使用100dp*100dp</p><p>width:(w_value/dpr)px;</p><p>height:(h_value/dpr)px;</p><p><span style="text-decoration: underline;">一像素边框</span></p><p>同样是retina屏幕下的问题，根本原因：1px使用2dp渲染</p><p>border:0.5px (FALSE) 仅仅ios8可以用</p><p>sacleY(.5)</p><p><span style="text-decoration: underline;">相对单位rem</span></p><p>为了是一个各大屏幕的手机，px略显固定，不能根据尺寸的大小而改变，使用相对单位更能体验页面兼容性</p><p>em：根据父节点的font-size为相对单位</p><p>rem：是根据html的font-size为相对单位</p><p>em在多层嵌套下，变得非常难以为何</p><p>rem更加能作为全局统一设置的度量</p><p>rem的基值设置为多少好？</p><p>为了使用各大手机屏幕，rem=screen.width/20</p><p>不使用rem的情况：font-size</p><p><span style="text-decoration: underline;">多行文本溢出</span></p><p>单行文本溢出，对title类的使用非常多，而多行文本溢出，在详情介绍则使用的比较多</p><p><span style="text-decoration: underline;">终端交互优化</span></p><p><span style="font-size: 16px;"><strong>Tap基础事件</strong></span><br/></p><p><span style="text-decoration: underline;">300毫秒的故事</span></p><p>移动web页面上的click时间响应都要慢上300毫秒。移动设备访问的web页面都是pc上的页面。在默认的viewport（980px）的页面往往都是需要“双击”或“捏开”放大页面，来看高清页面。而正是为了确认用户是“双击”还是“单击”，safari需要300ms的延迟来判断。</p><p><span style="text-decoration: underline;">300ms延迟怎么破？</span></p><p>使用Tap时间来代替click事件</p><p><span style="text-decoration: underline;">自定义Tap事件原理</span>：</p><p>在touchstart、touchend时记录时间、手指位置，在touchend时进行比较，如果手指位置为同一位置（或允许移动一个非常小的位移值）且时间间隔比较短（一般认为是200ms），且过程中未曾触发过touchmove，即可认为触发了手持设备上的“click”，一般称它为“tap”。(移动框架库Zepto.js)</p><p><span style="text-decoration: underline;">Tap“点透”的bug</span></p><p><img src="zb_users/upload/2016/10/201610181476787436121082.png" style="white-space: normal; width: 708px; height: 182px;" width="708" height="182"/></p><p>看过这个过程应该可以秒懂“点透”</p><p><span style="text-decoration: underline;">Tap透传的解决方案</span></p><p>1.使用缓动动画，过度300ms的延迟</p><p>2.中间层dom元素的假如，让中间层接受这个“穿透”</p><p>3.“上下”都使用tap时间，原理上解决tap透传事件（但不可避免原生标签click事件）</p><p>4.改用Fastclick的库（听过最新的zepto已经fixed掉这个bug）</p><p><strong style="font-size: 16px;">触摸Touch</strong><br/></p><p><span style="text-decoration: underline;">Touch基础事件</span></p><p>触摸才是移动设备的交互的核心事件</p><p>touchstart：手指触摸屏幕触发（已经有手指放屏幕上不会触发）</p><p>touchmove：手指在屏幕滑动，连续触发</p><p>touchend：手指离开屏幕时触发</p><p>touchcancel：系统取消touch时候触发（不常用）</p><p>除常见的事件属性外，触摸事件包含专有的触摸属性</p><p>touches：跟踪触摸操作的touch对象数组</p><p>targetTouches：特定时间目标的touch对象数组</p><p>changeTouches：上次触摸改变的touch对象数组</p><p><span style="text-decoration: underline;">每个touch对象包含属性</span>：</p><p>clientX：触摸目标在视口中的x坐标</p><p>clientY：触摸目标在视口中的y坐标</p><p>identifier：表示触摸的唯一ID。</p><p>pageX：触摸目标在页面中的x坐标（包含滚动）。</p><p>pageY：触摸目标在页面中的y坐标（包含滚动）。</p><p>screenX：触摸目标在屏幕中的x坐标。</p><p>screenY：触摸目标在屏幕中的y坐标。</p><p>target：触摸的DOM节点目标。</p><p>根据touch对象跟踪触摸具体位置，从而判断触摸交互或手势事件。</p><p><span style="text-decoration: underline;">BUG</span></p><p>Android只会触发一次touchstart，一次touchmove，touchend不触发</p><p><span style="text-decoration: underline;">解决方案</span></p><p>在touchmove中加入：enevt.preventDefault()。</p><p><span style="text-decoration: underline;">但注意</span></p><p>enevt.preventDefault()会导致默认行为不发生，如scroll，导致页面不滚动。</p><p><span style="text-decoration: underline;">弹性滚动</span></p><p>当客户端的页面滚动到顶部或底部的时候，滚动条会收缩并让我们多滑动一定距离。通过缓冲反弹的效果，带给用户良好的体验。</p><p><span style="text-decoration: underline;">移动web页面也是拥有这样能力的，但滚动有几种情况需要考虑</span>：</p><p>body层滚动：（系统特殊化处理）</p><p>再带弹性滚动，overflow：hidden失效，GIF和定时器暂停</p><p><span style="text-decoration: underline;">局部滚动开启弹性滚动</span>：</p><p>body{</p><p>&nbsp; &nbsp; overflow:scroll;</p><p>&nbsp; &nbsp; -webkit-over-scrolling:touch;</p><p>}</p><p>注意Android不支持原生的弹性滚动！但可以借助三方库iScroll来实现</p><p><span style="text-decoration: underline;">下拉刷新</span></p><p>顶端下拉一小点距离，页面弹性滚动向下</p><p><span style="text-decoration: underline;">上拉加载</span></p><p>使用scroll事件而不是touch时间（android有bug）</p><p><strong><span style="font-size: 16px;">总结</span></strong></p><p><img src="zb_users/upload/2016/10/201610181476787436203666.png" style="width: 709px; height: 361px;" width="709" height="361"/></p>    
</article>
<nav class="article-pagination">
    
    <a href="indexd5e8.html?id=34" class="article-prev">前一篇: 实习报告 · 软件实验：Protel99（Altium designer 6.9）</a>    <a href="indexf62c.html?id=36" class="article-next">后一篇: CET4 · 不屈的Writing路（2016.12.8）</a></nav>



<footer>
<p class="copy">Copyright Hower'Blog Rights Reserved.&nbsp;&nbsp;. Powered By <a href="http://www.zblogcn.com/" rel="nofollow" target="_blank">Z-BlogPHP</a>. theme by <a href="http://www.laiweishang.com/" target="_blank">微商货源</a></p></footer>
<script defer src="../static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"rayId":"557f6fd9bc5f7c20","version":"2019.10.2","startTime":1579506410551}'></script>
</body>
<!-- Mirrored from oldblog.smallyu.net/?id=35 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Jan 2020 07:51:07 GMT -->
</html>


<!--5.86 ms , 9 query , 680kb memory , 0 error-->